{% extends 'layout.html' %} {% block title %}home{% endblock %} {%block content %}
<form method='get' class="col s10 m10" action='/search'>
  <div class="input-field">
    <input id="search" name='search' type="search" required>
    <label class="label-icon" for="search">search</label>
    <i class="material-icons">close</i>
  </div>
</form>
  <!-- Dropdown Trigger -->
  <a class='dropdown-button btn' href='#' data-activates='dropdown1'>show by</a>
  <!-- Dropdown Structure -->
  <ul id='dropdown1' class='dropdown-content'>
    <li><a href="/sort1">recipe</a></li>
    <li><a href="/sort2">author</a></li>
    <li><a href="/sort3">cuisine</a></li>
    <li><a href="/sort4">date</a></li>
  </ul>

  <!-- Dropdown Trigger -->
  <a class='dropdown-button btn' href='#' data-activates='dropdown2'>country</a>
  <ul id='dropdown2' class='dropdown-content'>
  <!-- Dropdown Structure -->
   {%for c in all_countries %}
    <li>
      <a href="/country/{{c.id}}">{{c.name}}</a>
    </li>
  {%endfor%}  
  </ul>
   <!-- Dropdown Trigger -->
  <a class='dropdown-button btn' href='#' data-activates='dropdown3'>cuisine</a>
  <!-- Dropdown Structure -->
  <ul id='dropdown3' class='dropdown-content'>
   {%for c in all_cuisine %}
    <li>
      <a href="/cuisine/{{c.id}}">{{c.name}}</a>
    </li>
  {%endfor%}  
  </ul>

{% for e in all_user %}
<div class="row">
  <div class="col s12 m12">
    <div class="card blue-grey darken-1 ">
      <div class="card-content white-text">
        <h4 class="recipeName">{{e['recipe_name']}}</h4>
        <h6>{{e['date']}}</h6>
        <h5>introdution</h5>
        <p>{{e["intro"]}}</p>
        <p>
          <h5>Cuisine:</h5> {{e['cuisine_name']}}
          <h5>author: </h5> {{e['user_name']}}
          <h5>country: </h5> {{e['country']}}</p>
      </div>
      <div class="card-action">
        <a href="/recipe/{{e.recipe_id}}" class="read-more">Read More</a>
        <a href="/edit/{{e.recipe_id}}">[Edit]</a>
        <a href="/delete/{{e.recipe_id}}">[Delete]</a>
      </div>
    </div>
  </div>
</div>
{% endfor %}{%endblock%}
<script>
/* global $*/
  $('.dropdown-button').dropdown({
    inDuration: 300,
    outDuration: 225,
    constrainWidth: false, // Does not change width of dropdown to that of the activator
    hover: true, // Activate on hover
    gutter: 0, // Spacing from edge
    belowOrigin: false, // Displays dropdown below the button
    alignment: 'left', // Displays dropdown with edge aligned to the left of button
    stopPropagation: false // Stops event propagation
  });
  
</script>
