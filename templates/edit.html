<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<!------ Include the above in your HEAD tag ---------->
</head>
<body>
<div class="container">
 <div class="row">
  <form method="POST" method="GET" class='col-sm-12'>
        <h1>Edit recipe: {{recipe.name}}</h1>
        <div><label>Recipe:</label><input type="text" name="recipeName" value="{{recipe.name}}"  required></div>
        <div><label>introdution:</label>
        <input type='text' name='intro' value="{{recipe.intro}}" required></input></div>
        <div>
            <label>Cuisine:</label>
            <select name='cuisine' style='width:100px;'>
                {%for c in all_cuisine %}
                <option value="{{c.id}}">{{c.name}}</option>
                {% endfor %}
            </select>
        </div>
        <div><label>ingredients:</label>
        <input type="text" name="ingredients" value="{{recipe.ingredients}}" required></div>
         
            <h3>process:</h3>
<table id="myTable" class=" table order-list">
    <thead>
        <tr>
            <td>Instrutions</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="col-sm-4">
                 {%for c in all_process %}
                <textarea name="description" class="form-control"  required>{{c.description}}</textarea>
                 {% endfor %}
            </td>
            <td class="col-sm-2"><a class="deleteRow"></a>
            </td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="1" style="text-align: left;">
                <input type="button" class="btn btn-lg btn-block" id="addrow" value="Add Row" />
            </td>
        </tr>
        <tr>
        </tr>
    </tfoot>
</table>
<button class="btn btn-lg btn-block" type="submit" name="action" value="submit">Submit</button>
</form>
</div>
</div>
 </body>
</html>

<script>
/*global $ */
$(document).ready(function () {
    var counter = 1;

    $("#addrow").on("click", function () {
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td><textarea class="form-control" name="description"/></td>';
        cols += '<td><input type="button" class="ibtnDel btn btn-md btn-danger "  value="Delete"></td>';
        newRow.append(cols);
        $("table.order-list").append(newRow);
        counter++;
    });

    $("table.order-list").on("click", ".ibtnDel", function (event) {
        $(this).closest("tr").remove();       
        counter -= 1;
    });


});

</script>